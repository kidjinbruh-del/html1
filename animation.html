<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Ваше Имя">
    <title>Анимации - Технология VLAN</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .animation-section {
            padding: 40px 0;
            text-align: center;
        }

        .animation-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .animation-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .animation-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        /* Анимированные элементы */
        .pulse-circle {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            animation: pulse 2s infinite;
            margin: 20px 0;
        }

        .bouncing-ball {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #1cbc11, #14a20a);
            border-radius: 50%;
            animation: bounce 1s infinite alternate;
            margin: 20px 0;
        }

        .rotating-square {
            width: 70px;
            height: 70px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            animation: rotate 3s linear infinite;
            margin: 20px 0;
            border-radius: 15px;
        }

        .typing-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
            border-right: 3px solid #2c3e50;
            white-space: nowrap;
            overflow: hidden;
            width: 0;
            animation: typing 3s steps(20) infinite, blink 0.5s step-end infinite alternate;
        }

        .color-changing-box {
            width: 120px;
            height: 120px;
            border-radius: 20px;
            animation: colorChange 4s ease-in-out infinite;
            margin: 20px 0;
        }

        /* Ключевые кадры анимаций */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes bounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-30px); }
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes typing {
            0% { width: 0; }
            50% { width: 100%; }
            100% { width: 0; }
        }

        @keyframes blink {
            50% { border-color: transparent; }
        }

        @keyframes colorChange {
            0% { background: #667eea; }
            25% { background: #764ba2; }
            50% { background: #f093fb; }
            75% { background: #f5576c; }
            100% { background: #667eea; }
        }

        .animation-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 25px;
            background: #34495e;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .control-btn:hover {
            background: #2c3e50;
            transform: translateY(-2px);
        }

        .geo-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border: 1px solid #e9ecef;
        }

        .coordinates {
            font-family: monospace;
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }
        
        .fetch-result {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <ul class="nav-menu">
            <li class="nav-item"><a href="index.html" class="nav-link">Главная</a></li>
            <li class="nav-item"><a href="animation.html" class="nav-link">Анимации</a></li>
            <li class="nav-item"><a href="registration.html" class="nav-link">Регистрация</a></li>
        </ul>
    </nav>

    <div class="content-container">
        <section class="animation-section">
            <h1>Демонстрация Анимаций</h1>
            <p>Изучите различные типы CSS и JavaScript анимаций</p>

            <div class="animation-controls">
                <button class="control-btn" id="startAnimations">Запустить все анимации</button>
                <button class="control-btn" id="stopAnimations">Остановить все анимации</button>
                <button class="control-btn" id="getLocation">Получить геолокацию</button>
                <button class="control-btn" id="changeBackground">Сменить фон</button>
            </div>

            <div class="animation-container">
                <div class="animation-box">
                    <h3>Пульсация</h3>
                    <div class="pulse-circle"></div>
                    <p>Анимация pulse с изменением масштаба</p>
                </div>

                <div class="animation-box">
                    <h3>Прыгающий мяч</h3>
                    <div class="bouncing-ball"></div>
                    <p>Анимация bounce с перемещением по Y</p>
                </div>

                <div class="animation-box">
                    <h3>Вращение</h3>
                    <div class="rotating-square"></div>
                    <p>Бесконечное вращение элемента</p>
                </div>

                <div class="animation-box">
                    <h3>Эффект печати</h3>
                    <div class="typing-text">Технология VLAN</div>
                    <p>Имитация печати текста</p>
                </div>

                <div class="animation-box">
                    <h3>Смена цвета</h3>
                    <div class="color-changing-box"></div>
                    <p>Плавное изменение цвета фона</p>
                </div>
            </div>

            <!-- Секция Fetch API -->
            <div class="geo-section">
                <h2>Fetch API Demo</h2>
                <p>Содержимое загруженного файла:</p>
                <div id="fetch-content" class="fetch-result">
                    Загрузка...
                </div>
            </div>

            <div class="geo-section">
                <h2>Геолокация</h2>
                <p>Нажмите кнопку, чтобы получить ваши координаты</p>
                <button class="btn" id="getLocationBtn">Получить местоположение</button>
                <div id="coordinates" class="coordinates"></div>
            </div>

            <div class="geo-section">
                <h2>Смена фона страницы</h2>
                <p>Нажмите кнопку для случайного изменения фона</p>
                <button class="btn" id="changeBackgroundBtn">Сменить цвет фона</button>
                <div id="color-info" style="margin-top: 15px; font-weight: bold;"></div>
            </div>
        </section>

        <a href="index.html" class="home-btn">На главную</a>
    </div>

   <script>
    // Функции для анимаций
    function startAllAnimations() {
        const animatedElements = document.querySelectorAll('.pulse-circle, .bouncing-ball, .rotating-square, .typing-text, .color-changing-box');
        animatedElements.forEach(el => {
            el.style.animationPlayState = 'running';
        });
        alert('Все анимации запущены!');
    }

    function stopAllAnimations() {
        const animatedElements = document.querySelectorAll('.pulse-circle, .bouncing-ball, .rotating-square, .typing-text, .color-changing-box');
        animatedElements.forEach(el => {
            el.style.animationPlayState = 'paused';
        });
        alert('Все анимации остановлены!');
    }

    // Геолокация
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else {
            alert("Geolocation не поддерживается вашим браузером");
        }
    }

    function showPosition(position) {
        const coordsDiv = document.getElementById('coordinates');
        if (coordsDiv) {
            coordsDiv.innerHTML = `
                <strong>Ваши координаты:</strong><br>
                Широта: ${position.coords.latitude}<br>
                Долгота: ${position.coords.longitude}<br>
                Точность: ${position.coords.accuracy} метров
            `;
            coordsDiv.style.display = 'block';
        }
    }

    function showError(error) {
        let message = "Ошибка при получении геолокации: ";
        switch(error.code) {
            case error.PERMISSION_DENIED:
                message += "Пользователь отклонил запрос";
                break;
            case error.POSITION_UNAVAILABLE:
                message += "Информация о местоположении недоступна";
                break;
            case error.TIMEOUT:
                message += "Время запроса истекло";
                break;
            case error.UNKNOWN_ERROR:
                message += "Неизвестная ошибка";
                break;
        }
        alert(message);
    }

    // Смена цвета фона
    function changeBackgroundColor() {
        const colors = [
            { code: '#ffffff', name: 'Белый' },
            { code: '#ff6b6b', name: 'Красный' },
            { code: '#4ecdc4', name: 'Бирюзовый' },
            { code: '#45b7d1', name: 'Голубой' },
            { code: '#96ceb4', name: 'Зеленый' },
            { code: '#feca57', name: 'Желтый' },
            { code: '#ff9ff3', name: 'Розовый' },
            { code: '#54a0ff', name: 'Синий' }
        ];
        
        const randomColor = colors[Math.floor(Math.random() * colors.length)];
        document.body.style.backgroundColor = randomColor.code;
        
        const colorInfo = document.getElementById('color-info');
        if (colorInfo) {
            colorInfo.innerHTML = `
                <div style="background: ${randomColor.code}; padding: 10px; border-radius: 5px; color: ${randomColor.code === '#ffffff' ? '#000' : '#fff'}">
                    Текущий цвет: ${randomColor.code} - ${randomColor.name}
                </div>
            `;
        }
    }

    // Fetch API - УПРОЩЕННАЯ ВЕРСИЯ
    function loadFetchAPI() {
        // Пробуем разные пути к файлу
        const possiblePaths = [
            'fetch_api.txt',
            './fetch_api.txt',
            'html_номер/fetch_api.txt'
        ];

        let fetchAttempts = 0;

        function tryFetch(path) {
            fetch(path)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.text();
                })
                .then(data => {
                    console.log('Файл успешно загружен:', data);
                    const fetchElement = document.getElementById('fetch-content');
                    if (fetchElement) {
                        fetchElement.innerHTML = `<strong>Успех!</strong><br>${data}`;
                        fetchElement.style.background = '#d4edda';
                        fetchElement.style.color = '#155724';
                        fetchElement.style.borderLeft = '4px solid #28a745';
                    }
                })
                .catch(error => {
                    console.warn(`Не удалось загрузить по пути: ${path}`, error);
                    fetchAttempts++;
                    
                    if (fetchAttempts < possiblePaths.length) {
                        // Пробуем следующий путь
                        tryFetch(possiblePaths[fetchAttempts]);
                    } else {
                        // Все пути провалились, показываем сообщение
                        const fetchElement = document.getElementById('fetch-content');
                        if (fetchElement) {
                            fetchElement.innerHTML = `
                                <strong>Файл fetch_api.txt не найден!</strong><br>
                                Создайте файл в папке проекта с содержимым:<br>
                                <em>"Если вы открыли Fetch Api, то вы большой молодец!"</em>
                                <br><br>
                                <button onclick="createDemoFile()" style="padding: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
                                    Создать демо-файл
                                </button>
                            `;
                            fetchElement.style.background = '#f8d7da';
                            fetchElement.style.color = '#721c24';
                            fetchElement.style.borderLeft = '4px solid #dc3545';
                        }
                    }
                });
        }

        // Начинаем с первого пути
        tryFetch(possiblePaths[0]);
    }

    // Функция для создания демо-файла
    function createDemoFile() {
        // Создаем виртуальный файл для демонстрации
        const demoContent = "Если вы открыли Fetch Api, то вы большой молодец! (демо-версия)";
        const fetchElement = document.getElementById('fetch-content');
        if (fetchElement) {
            fetchElement.innerHTML = `<strong>Демо-режим!</strong><br>${demoContent}`;
            fetchElement.style.background = '#fff3cd';
            fetchElement.style.color = '#856404';
            fetchElement.style.borderLeft = '4px solid #ffc107';
        }
        alert('Демо-файл создан! В реальном проекте создайте файл fetch_api.txt в папке с сайтом.');
    }

    // Назначение обработчиков событий после загрузки DOM
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM загружен, инициализируем Fetch API...');
        
        // Загрузка Fetch API
        loadFetchAPI();

        // Обработчики для кнопок управления анимациями
        document.getElementById('startAnimations').addEventListener('click', startAllAnimations);
        document.getElementById('stopAnimations').addEventListener('click', stopAllAnimations);
        document.getElementById('getLocation').addEventListener('click', getLocation);
        document.getElementById('changeBackground').addEventListener('click', changeBackgroundColor);
        
        // Обработчики для кнопок в секциях
        document.getElementById('getLocationBtn').addEventListener('click', getLocation);
        document.getElementById('changeBackgroundBtn').addEventListener('click', changeBackgroundColor);

        console.log('Все обработчики назначены!');
    });
</script>
</body>
</html>